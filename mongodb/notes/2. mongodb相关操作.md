# 基本操作
## 库
+ 通过命令行打开mongodb
  ```sql
  > mongo
  ```
+ 查看所有库
  ```sql
  > show databases; | show dbs;
  ```
  
  注意:
  - `admin`: 从权限的角度来看, 这是`root`数据库. 要是将一个用户添加到这个数据库, 这个用户自动继承所有数据库的权限. 一些特定的服务器端命令也只能从这个数据库运行, 比如列出所有的数据库或者关闭服务器.
  - `local`: 这个数据永远不会被复制, 可以用来存储限于本地单台服务器的任意集合.
  - `config`:当mongo用于分片设置时, config数据库在内部使用, 用于保存分片的相关信息.

+ 创建/切换数据库(创建并使用)
  ```sql
  > use 数据库名
  ```

  注意: 创建完数据库之后, 如果该数据库中没有集合时,mongodb是不显示这个数据库的,因此通过`show databases; | show dbs; `是查看不到的.

+ 查看当前所在库
  ```sql
  > db
  ```

+ 删除数据库
  - 默认删除当前选中的库
  ```sql
  > db.dropDatabase() // 虽然已经删除了当前库, 但是db查看当前所在库还是会显示出来
  ```

## 集合
+ 查看数据库中所有的集合
  ```sql
  > show collections; | show tables;  // 后者与mysql查看表命令一致
  ```
  
+ 创建集合
  ```sql
  > db.createCollection('集合名称',[options])
  ```

  options参数：
  | 字段   | 类型 | 描述                                                         |
  | ------ | ---- | ------------------------------------------------------------ |
  | capped | 布尔 | (可选)如果为true, 则创建固定集合。固定集合是指有着固定大小的集合，当达到最大值时，它会自动覆盖最早的文档。**当该值为true时，必须指定size参数。** |
  | size   | 数值 | （可选）为固定集合指定一个最大值，即字节数。**如果capped为true,也需要指定该字段。** |
  | max    | 数值 | （可选）指定固定集合中包含文档的最大数量。                   |

  **注意：当集合不在存时，向集合中插入文档也会自动创建该集合。**
+ 删除集合
  ```sql
  > db.集合名称.drop();
  ```

